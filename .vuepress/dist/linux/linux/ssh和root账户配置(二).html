<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ssh和root账户配置(二) | 刘哈哈的个人笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="https://ae01.alicdn.com/kf/Hf2c1a9a9686148debc15f0b0ac1fea85a.jpg">
    <link rel="apple-touch-icon" href="https://ae01.alicdn.com/kf/Hf2c1a9a9686148debc15f0b0ac1fea85a.jpg">
    <link rel="mask-icon" href="https://ae01.alicdn.com/kf/Hf2c1a9a9686148debc15f0b0ac1fea85a.jpg" color="#3eaf7c">
    <meta name="description" content="Linux 笔记 基础 账户配置">
    <meta name="keywords" content="Linux 笔记 基础 账户配置">
    <meta name="google" value="notranslate">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="https://ae01.alicdn.com/kf/Hf2c1a9a9686148debc15f0b0ac1fea85a.jpg">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.a90d73dc.css" as="style"><link rel="preload" href="/assets/js/app.219ebc21.js" as="script"><link rel="preload" href="/assets/js/1.938a95ef.js" as="script"><link rel="preload" href="/assets/js/3.1f3ca51e.js" as="script"><link rel="preload" href="/assets/js/15.777fa8f2.js" as="script"><link rel="prefetch" href="/assets/js/10.8c754860.js"><link rel="prefetch" href="/assets/js/11.6164fce0.js"><link rel="prefetch" href="/assets/js/12.1b0e4442.js"><link rel="prefetch" href="/assets/js/13.5dc033b2.js"><link rel="prefetch" href="/assets/js/14.4261238a.js"><link rel="prefetch" href="/assets/js/16.34d113d5.js"><link rel="prefetch" href="/assets/js/17.b3811cfc.js"><link rel="prefetch" href="/assets/js/18.292549f4.js"><link rel="prefetch" href="/assets/js/19.f9d37764.js"><link rel="prefetch" href="/assets/js/20.f9969551.js"><link rel="prefetch" href="/assets/js/21.be88e609.js"><link rel="prefetch" href="/assets/js/22.ec7c679a.js"><link rel="prefetch" href="/assets/js/23.205c21dc.js"><link rel="prefetch" href="/assets/js/24.f8155035.js"><link rel="prefetch" href="/assets/js/25.140b84dc.js"><link rel="prefetch" href="/assets/js/26.f782b038.js"><link rel="prefetch" href="/assets/js/27.4619d9d7.js"><link rel="prefetch" href="/assets/js/28.ce47a1c3.js"><link rel="prefetch" href="/assets/js/29.96cd0b15.js"><link rel="prefetch" href="/assets/js/30.5e3d6ece.js"><link rel="prefetch" href="/assets/js/31.4b6386cc.js"><link rel="prefetch" href="/assets/js/32.a9639a28.js"><link rel="prefetch" href="/assets/js/33.aed76797.js"><link rel="prefetch" href="/assets/js/34.deea9ef2.js"><link rel="prefetch" href="/assets/js/35.18720202.js"><link rel="prefetch" href="/assets/js/36.0a5c9913.js"><link rel="prefetch" href="/assets/js/37.a8b3de6e.js"><link rel="prefetch" href="/assets/js/38.5c2f43c9.js"><link rel="prefetch" href="/assets/js/39.e233acdd.js"><link rel="prefetch" href="/assets/js/4.f404f6d5.js"><link rel="prefetch" href="/assets/js/40.d77287e5.js"><link rel="prefetch" href="/assets/js/41.ade05c95.js"><link rel="prefetch" href="/assets/js/42.2e1deff9.js"><link rel="prefetch" href="/assets/js/43.fba0f148.js"><link rel="prefetch" href="/assets/js/44.9a2adf6b.js"><link rel="prefetch" href="/assets/js/45.90e195b0.js"><link rel="prefetch" href="/assets/js/46.24c6ed95.js"><link rel="prefetch" href="/assets/js/47.0e08448e.js"><link rel="prefetch" href="/assets/js/48.4168c169.js"><link rel="prefetch" href="/assets/js/49.a31e456e.js"><link rel="prefetch" href="/assets/js/5.4dc95a71.js"><link rel="prefetch" href="/assets/js/50.f7864e5a.js"><link rel="prefetch" href="/assets/js/51.a11f91c5.js"><link rel="prefetch" href="/assets/js/52.4871cd1b.js"><link rel="prefetch" href="/assets/js/53.cfb4a82e.js"><link rel="prefetch" href="/assets/js/6.e792240d.js"><link rel="prefetch" href="/assets/js/7.3399c657.js"><link rel="prefetch" href="/assets/js/8.37a8aa23.js"><link rel="prefetch" href="/assets/js/9.ffa3ddd7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a90d73dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://ae01.alicdn.com/kf/Hf2c1a9a9686148debc15f0b0ac1fea85a.jpg" alt="刘哈哈的个人笔记" class="logo"> <span class="site-name can-hide">刘哈哈的个人笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/home/BasicsList/" class="nav-link">
  HTML CSS JS
</a></li><li class="dropdown-item"><!----> <a href="/home/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/home/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/home/cesium/" class="nav-link">
  Cesium
</a></li></ul></div></div><div class="nav-item"><a href="/serve/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/linux/linux/" class="nav-link router-link-active">
  Linux
</a></div><div class="nav-item"><a href="/android/android/" class="nav-link">
  Android
</a></div><div class="nav-item"><a href="/tags/" class="nav-link">
  TAGS
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <a href="https://github.com/fly-liu/fly-liu.github.io/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/home/BasicsList/" class="nav-link">
  HTML CSS JS
</a></li><li class="dropdown-item"><!----> <a href="/home/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/home/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/home/cesium/" class="nav-link">
  Cesium
</a></li></ul></div></div><div class="nav-item"><a href="/serve/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/linux/linux/" class="nav-link router-link-active">
  Linux
</a></div><div class="nav-item"><a href="/android/android/" class="nav-link">
  Android
</a></div><div class="nav-item"><a href="/tags/" class="nav-link">
  TAGS
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div> <a href="https://github.com/fly-liu/fly-liu.github.io/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="content__default"><h2 id="题记"><a href="#题记" class="header-anchor">#</a> 题记</h2> <p>在安装完虚拟机之后，可能你想要在通过本地shell软件或<code>git bash</code> 连接服务器的ssh服务，这一篇介绍在本地使用<code>git bash</code>通过ssh协议连接服务器。</p> <p>概述：</p> <ol><li>首先安装SSH服务</li> <li>开启ROOT账户</li> <li>远程连接</li></ol> <p>首先确定一下本地能否ping到服务器，保证虚拟机能够和宿主机正常通信：
<img src="/assets/img/1.6fe041c6.jpg" alt="ping"></p> <h3 id="安装ssh服务"><a href="#安装ssh服务" class="header-anchor">#</a> 安装SSH服务</h3> <ol><li>查看SSH服务是否开启
使用<code>ps -e|grep ssh</code> 或 <code>sudo service ssh status</code> 查看,看sshd有没有进程就可以了，有的话说明SSH服务已安装，没有的话就需要安装了</li></ol> <p>这是已安装的状态，安装过后可跳过2、3步骤，<br> <img src="data:image/jpeg;base64,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" alt="ssha"></p> <ol start="2"><li>安装SSH服务
使用<code>sudo apt install ssh -y</code><br>
或<code>sudo apt-get install openssh-server</code> <code>sudo apt-get install openssh-client</code></li></ol> <p><code>openssh-server</code>是服务端，通过开放本机的ssh服务，客户端才能连接，必选<br> <code>open-client</code>是SSH客户端，通过open-client可以远程连接其他主机，可选</p> <ol start="3"><li><p>启动SSH服务
<code>service ssh start</code> 或 <code>sudo /etc/init.d/ssh start</code>，然后查看SSH服务状态，使用步骤1的命令：<code>ps -aux |grep ssh</code></p></li> <li><p>修改配置文件，设置完后重启服务
修改配置文件中的端口号和设置root用户的登录权限,输入命令：<br> <code>sudo vim /etc/ssh/sshd_config</code></p></li></ol> <p><img src="/assets/img/3.a34e5b81.jpg" alt="ssha"></p> <p>注释掉<code>PermitRootLogin without-password</code>,重新<code>PermitRootLogin</code>参数的值为<code>yes</code>，PermitRootLogin可以限定root用户通过ssh的登录方式，如禁止登陆、禁止密码登录、仅允许密钥登陆和开放登陆<br>
设置为<code>yes</code>的意思是允许SSH登录，不限制登录方式</p> <ol start="5"><li>重启SSH服务
<code>sudo service ssh restart</code> 或 <code>sudo /etc/init.d/ssh restart</code>,不报错表示重启成功，也可查询状态</li></ol> <p><img src="/assets/img/4.ce08ac56.jpg" alt="ssh"></p> <p><code>sudo /etc/init.d/ssh restart</code></p> <h2 id="ftp服务安装"><a href="#ftp服务安装" class="header-anchor">#</a> FTP服务安装</h2> <ul><li>安装vsftpd服务</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sudo apt install vsftpd
</code></pre></div><ul><li>配置 vsftpd 服务器</li></ul> <ol><li>备份配置文件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>sudo mv /etc/vsftpd.conf /etc/vsftpd.conf_bak
</code></pre></div><ol start="2"><li>修改文件配置</li></ol> <div class="language- extra-class"><pre class="language-text"><code>sudo vim /etc/vsftpd.conf
</code></pre></div><p>修改内容如下：</p> <div class="language- extra-class"><pre class="language-text"><code>listen=NO                                 #阻止 vsftpd 在独立模式下运行
anonymous_enable=NO                       #是否允许匿名登录，不做匿名的话就不重要
local_enable=YES                          #允许本地用户登陆
write_enable=YES                          #开启用户写权限（上传文件权限）
chroot_local_user=YES                     #限制用户只能看见 local_root 目录（或 home 目录）
chroot_list_enable=YES                    #启用限制用户名单                
chroot_list_file=/etc/vsftpd.chroot_list  #限制ftp登录的用户名单
local_root=/home/ftp　                     #设置根目录所在的位置，可以自己设置
pam_service_name=vsftpd
</code></pre></div><ol start="3"><li>创建ftp用户并设置密码</li></ol> <div class="language- extra-class"><pre class="language-text"><code># 创建用户
# -m 自动建立/home/下的用户目录
sudo useradd -m &lt;username&gt;

# 修改密码
sudo passwd &lt;username&gt;

# 创建 FTP 根目录
# sudo mkdir /home/ftp/ftp_root
</code></pre></div><ol start="4"><li>添加访问ftp服务器的白名单</li></ol> <div class="language- extra-class"><pre class="language-text"><code>sudo vim /etc/vsftpd.chroot_list
</code></pre></div><p><img src="/assets/img/4.ce08ac56.jpg" alt="添加限制用户"></p> <p>这里面添加的用户，可以访问ftp服务器根目录之外的目录。</p> <ol start="5"><li>重启ftp服务</li></ol> <div class="language- extra-class"><pre class="language-text"><code>sudo service vsftpd restart
</code></pre></div><h3 id="ftp-其他命令"><a href="#ftp-其他命令" class="header-anchor">#</a> FTP 其他命令</h3> <ul><li>启动 ftp 服务</li></ul> <div class="language- extra-class"><pre class="language-text"><code>service vsftpd start
</code></pre></div><ul><li>重启服务以及关闭服务</li></ul> <div class="language- extra-class"><pre class="language-text"><code>service vsftpd restart      #重启FTP服务
service vsftpd stop         #关闭FTP服务
</code></pre></div><ul><li>查询状态</li></ul> <div class="language- extra-class"><pre class="language-text"><code>service vsftpd status 
或
ps -e | grep vsftpd
</code></pre></div><h3 id="遇到的问题"><a href="#遇到的问题" class="header-anchor">#</a> 遇到的问题</h3> <ul><li>ftp登录错误
当我ftp账户连接FTP服务时（使用FileZilla），响应报错：</li></ul> <p><img src="data:image/jpeg;base64,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" alt="ftp"></p> <p>找了好久解决方法，问题出现在配置文件中
<img src="/assets/img/8.1c51639c.png" alt="ftp"></p> <p>将<code>pam_service_name</code>值改为<code>ftp</code></p> <p>放上我找到的问题汇总，<a href="https://blog.csdn.net/wlchn/article/details/50855447" target="_blank" rel="noopener noreferrer">ftp vsftpd 530 login incorrect 解决办法汇总<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>vim编辑文件时未正确退出解决方法
vim编辑文件时异常退出，下次使用vim编辑时会提示<code>swap file &quot;.vsftpd.conf.swp&quot;already exists！</code> ，并提示选择操作</li></ul> <p>使用vim编辑时实际上是先copy一份临时文件并映射到内存中让我们编辑，，当执行 w 后才保存临时文件到原文件，执行 q 会删除临时文件；每次启动vim都是检查是否存在临时文件，有就会询问如何处理，</p> <p>解决办法是删除临时文件
<code>rm -f .vsftpd.conf.swp</code></p> <h2 id="root账户配置"><a href="#root账户配置" class="header-anchor">#</a> root账户配置</h2> <ol><li>设置root角色的密码，若之前从来没有设置过，该操作也开启了root角色
<code>sudo passwd root</code></li></ol> <h3 id="使用git-bash-远程连接"><a href="#使用git-bash-远程连接" class="header-anchor">#</a> 使用git bash 远程连接</h3> <ol><li>打开<code>git bash</code>工具</li> <li>输入命令 <code>ssh root@192.168.43.131</code></li></ol> <p>这里记录一下，刚开始在服务端安装完SSH服务后，使用<code>git bash</code>连接不上服务器，后来才查到是没有设置root账户，&quot;root&quot;是已创建的账户；如果改变端口后要跟 -p 加端口号，如：<br> <code>$ ssh -p 9521 root@192.168.43.131</code></p> <p><img src="/assets/img/5.9fa72469.jpg" alt="ssh"></p> <p>退出服务使用命令：<code>logout</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/linux/linux/VIM编辑器大全(三).html" class="prev">
        VIM编辑器大全(三)
      </a></span> <span class="next"><a href="/linux/linux/命令和快捷键(一).html">
        Linux命令和快捷键(一)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.219ebc21.js" defer></script><script src="/assets/js/1.938a95ef.js" defer></script><script src="/assets/js/3.1f3ca51e.js" defer></script><script src="/assets/js/15.777fa8f2.js" defer></script>
  </body>
</html>
